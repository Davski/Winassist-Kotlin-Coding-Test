PSEUDO CODE from AktiveraSnittPris.pas function to be translated.
        Use DM.getLager() to get List, DM.getArtikel() to get articles.
	    I will leave variable declarations unwritten here and just assume they are declared as they are in the function
            Antal is 0
	    gAktuellInkopsrabatt is 1
	    OrderFields is 'mk'
	    For each LagerPost in LagerPoster:
                ArtMK is LagerPost.artikelMk
                LgrStatus is LagerPost.lgrStatus
                TaMed is false
                if LgrStatus lgrJA or lgrHEMTAGEN or lgrUTGAENDE:
		    artikel is DM.getArtikel(ArtMK)
		    if artikel is not null:
		        Antal++
		        ArtNr is artikel.artikelNr
		        MK is artikel.mk
		        Benamning is artikel.benamning1
		        RK is artikel.rabattKod
		        VG is artikel.varuGrupp
		        PG is artikel.prodGrupp
		        if artikel.fastPris is true:
		            Typ is 'F'
		            Kod is 'IS'
		            Brutto is artikel.pris
		            Netto is artikel.inkop
		            TaMed is Netto equals null
		        else if artikel.useNetto:
     		            Typ is 'V'
			    Brutto is artikel.vNetto
			    Netto is getInkopsPrisVNetto(Brutto, MK, RK, VG, PG)
			    TaMed is (RK equals '') or (Netto is geq Brutto)
			    if RK is '':
			        Kod is 'RS'
			    else:
			        Kod is 'RV'
		        else:
		            Typ is 'B'
			    Brutto is artikel.pris
			    Netto is getInkopsPris(Brutto, MK, RK, PG, VG)
			    TaMed is (RK equals '') or (Netto is geq Brutto)
			    if RK is '':
			        Kod is 'RS'
			    else:
			        Kod is 'RV'
		    else:
		        ArtNr is LagerPost.artikelnr
			MK is LagerPost.mk
			Benamning is L_(199, 'SAKNAS I ARTIKELREGISTER!!')
			Typ is ''
			Kod is ''
			RK is ''
			Brutto is ''
			Netto is ''
			TaMed is True
		if TaMed:
		    Typ is AddBlanks(Typ, 4, alLEFT)
		    Kod is AddBlanks(Kod, 4, alLEFT)
		    ArtNr is AddBlanks(ArtNr, 18, alLEFT)
		    MK is AddBlanks(MK, 5, alLEFT)
		    RK is AddBlanks(RK, 5, alLEFT)
		    Benamning is AddBlanks(Benamning, 30, alLEFT)
		    Netto is AddBlanks(Netto, 10, alRIGHT)
		    Brutto is AddBlanks(Brutto, 10, alRIGHT)
		    LagerRE.Lines.Add(Typ+Kod+ArtNr+MK+RK+Benamning+Netto+Brutto)
	    OrderFields is ''
	  LagerRE.Add('')
	  LagerRE.Add(L_(200, 'Typer:'))
	  LagerRE.Add(L_(201, 'B = Inköpspris beräknat på rabattkod mot bruttopris'))
	  LagerRE.Add(L_(202, 'V = Inköpspris beräknat på rabattkod mot verkstadsnetto'))
	  LagerRE.Add(L_(203, 'F = Fast inköpspris'))

	  LagerRE.Add('')
	  LagerRE.Add(L_(204, 'Koder:'))
	  LagerRE.Add(L_(205, 'IS = Inköpspris saknas'))
	  LagerRE.Add(L_(206, 'RS = Rabattkod saknas'))
	  LagerRE.Add(L_(207, 'RV = Rabattkod saknar värde'))
	  Typ is AddBlanks('Typ', 4, alLEFT)
	  Kod is AddBlanks('Kod', 4, alLEFT)
	  ArtNr is AddBlanks(L_(37, 'Artikelnr'), 18, alLEFT)
	  MK is AddBlanks('MK', 5, alLEFT)
	  RK is AddBlanks('RK', 5, alLEFT)
	  Benamning is AddBlanks(L_(98, 'Benämning'), 30, alLEFT)
	  Netto is AddBlanks(L_(209, 'Inköp'), 10, alRIGHT)
	  Brutto is AddBlanks(L_(102, 'Pris'), 10, alRIGHT)
	  LagerRE.Add(0, '--------------------------------------------------------------------------------------')
	  LagerRE.Add(0, Typ+Kod+ArtNr+MK+RK+Benamning+Netto+Brutto)
